<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Delta Labs - <%= title %></title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400&display=swap" rel='stylesheet'>
    <link href="./css/insights.css" rel='stylesheet'>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/4.0.15/fullpage.css" rel="stylesheet">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.6.1/d3.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/4.0.15/fullpage.min.js"></script>
    
</head>
<body>
    <video autoplay muted loop id="myVideo" style="position: fixed;right: 0;bottom: 0;min-width: 100%;min-height: 100%;z-index: -10">
        <source src="./img/bkg.mp4" type="video/mp4">
    </video>
    <div style="z-index: -9; position: fixed; right: 0; bottom: 0; min-height: 100%; min-width: 100%; background-color: #FFFFFF; opacity: 0.75;"></div>
    <nav class="animatedTransition">
        <div id="nav-left">
            <img class="hide-mobile" alt="Text.png" src="./img/DeltaLabsLarge.png" style="width: 164px; height: 39px">
            <img alt="Logo.png" src="./img/LogoLarge.png" style="width: 52px; height: 55px">
        </div>
        <div>
            <h1 class="nav-title"><%= title %></h1>
        </div>
        <div>
            <a class="insights-btn" href="https://www.delta-labs.ch/insights">Go Back</a>
        </div>
    </nav>
    <div id="viz-container" style="width: 100%; height: 100vh">
        <div id="left-container">
            <% sections.forEach(function(section, index) { %>
                <% if (scrollSnap) { %>
                    <section id="section-<%= index %>" class="section" style="display: flex; align-items: center; opacity:1;">
                <% } else { %>
                    <section id="section-<%= index %>" class="section animatedTransition" style="height: 100vh; width: 100%; opacity:1;">
                <% } %>
                    <div class="step" style="width:100%; height: 100%; display: flex; align-items: center; ">
                        <p id="section-<%= index %>-p" class="step-p" style="font-size: 1.8em; max-width: 30%"><%= section %></p>
                    </div>
                </section>
            <% }) %>
        </div>
        <div id ="viz">
            <svg id="viz-svg" style="position: fixed; height: 100vh; bottom: 0; right: 0; width: 70%; margin-right: 8px"></svg>
        </div>
    </div>
</body>

<script>
    window.onbeforeunload = function () {
        window.scrollTo(0, 0);
    }

    let scrollSnap = <%= scrollSnap %>;
    let navigationTooltips =  <%- JSON.stringify(navigationTooltips) %>
    let mobile = false;
    let svg, width, height, navHeight;
</script>

<script src="./js/insights.js"></script>
<% if (scripts && scripts.length > 0) { %>
    <% scripts.forEach(script => { %>
        <script src="./js/<%= scriptFolder %>/<%= script %>.js"></script>
    <% }) %>
<% } %>
</html>